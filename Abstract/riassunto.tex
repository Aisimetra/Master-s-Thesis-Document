\documentclass[a4paper,11pt, oneside,italian]{article}

\usepackage[utf8]{inputenc}
\usepackage{hyperref}
\usepackage{framed}
\usepackage{xcolor}
\usepackage{amsmath}
\usepackage{enumitem}
\usepackage{relsize}
\usepackage{microtype}
\usepackage{typearea}

\hypersetup{
  pdftitle = {Respiratory Rate Estimation using a Pressure Sensor Mattress}, 
  pdfauthor = {Artemisia Sarteschi},
  pdfsubject = {Riassunto della tesi},
  pdfpagemode = UseNone
}


\usepackage{fancyhdr}
% \pagestyle{fancy}
% \fancyhead[LE,RO]{\slshape \rightmark}
% \fancyhead[LO,RE]{\slshape \leftmark}
\fancyfoot[C]{\thepage}

\title{Respiratory Rate Estimation using a Pressure Sensor Mattress} 
\author{Artemisia Sarteschi\\\smaller matr.~829677}
\date{}
\makeatletter
\renewcommand{\paragraph}{%
  \@startsection{paragraph}{4}%
  {\z@}{0.75ex \@plus 1ex \@minus .2ex}{-1em}%
  {\normalfont\normalsize\bfseries}%
}
\makeatother

\def\SLP{\mbox{\rm {\sf SLP}}}
\def\rank{\mbox{\rm {\sf rank}}}
\def\lcs{\mbox{\rm {\sf lcs}}}
\def\lcp{\mbox{\rm {\sf lcp}}}
\def\lce{\mbox{\rm {\sf lce}}}
\def\LCE{\mbox{\rm {\sf LCE}}}
\def\ROT{\mbox{\rm {\sf ROT}}}
\def\select{\mbox{\rm {\sf select}}}
\def\col{\mbox{\rm {\sf col}}}
\def\NULL{\mbox{\rm {\sf null}}}
\def\len{\mbox{\rm {\sf len}}}
\def\pos{\mbox{\rm {\sf pos}}}
\def\row{\mbox{\rm {\sf row}}}
\def\LF{\mbox{\rm {\sf LF}}}
\def\FL{\mbox{\rm {\sf FL}}}
\def\W{\mbox{\rm {\sf w}}}
\def\A{\mbox{\rm {\sf A}}}
\def\A{\mbox{\rm {\sf A}}}
\def\SA{\mbox{\rm {\sf SA}}}
\def\LCP{\mbox{\rm {\sf LCP}}}
\def\ISA{\mbox{\rm {\sf ISA}}}
\def\PLCP{\mbox{\rm {\sf PLCP}}}
\def\RLCP{\mbox{\rm {\sf RLCP}}}
\def\RLBWT{\mbox{\rm {\sf RLBWT}}}
\def\MEM{\mbox{\rm {\sf MEM}}}
\def\KMEM{\mbox{\rm {\sf K-MEM}}}
\def\KSMEM{\mbox{\rm {\sf K-SMEM}}}
\def\MS{\mbox{\rm {\sf MS}}}
\def\LCP{\mbox{\rm {\sf LCP}}}
\def\NSV{\mbox{\rm {\sf NSV}}}
\def\PSV{\mbox{\rm {\sf PSV}}}
\def\RMQ{\mbox{\rm {\sf RMQ}}}
\def\BWT{\mbox{\rm {\sf BWT}}}
\def\BWM{\mbox{\rm {\sf BWM}}}
\def\ITR{\mbox{\rm {\sf index\_to\_run}}}
\def\GS{\mbox{\rm {\sf get\_symbol}}}
\def\PBWT{\mbox{\rm {\sf PBWT}}}
\def\MPBWT{\mbox{\rm {\sf mPBWT}}}
\def\MRLPBWT{\mbox{\rm {\sf mRLPBWT}}}
\def\DPBWT{\mbox{\rm {\sf dPBWT}}}
\def\RLPBWT{\mbox{\rm {\sf RLPBWT}}}
\def\SMEM{\mbox{\rm {\sf SMEM}}}
\def\M{\mbox{\rm {\sf M}}}
\def\C{\mbox{\rm {\sf C}}}
\def\Occ{\mbox{\rm {\sf Occ}}}
\def\L{\mbox{\rm {\sf L}}}
\def\F{\mbox{\rm {\sf F}}}
\def\DA{\mbox{\rm {\sf DA}}}
\def\DM{\mbox{\rm {\sf DM}}}
\def\PA{\mbox{\rm {\sf PA}}}
\def\LCE{\mbox{\rm {\sf LCE}}}
\def\UP{\mbox{\rm {\sf update}}}
\def\lceb{\mbox{\rm {\sf lce\_bounded}}}
\def\RM{\mbox{\rm {\sf reverse\_map}}}


\begin{document}
\maketitle
\setlist{leftmargin = 2cm}
\noindent


Sleep is one of the most important physiological functions. Sleep quality can affect physical 
and mental wellness; for this reason,
it is crucial to monitor vital signs without interfering with natural sleep. 
The state-of-the-art to monitor physiological data during sleep is polysomnography%\cite{Penzel2016ModulationsPolysomnography}
, which involves recording sleep stages, respiratory rate, heart and other parameters. However, this procedure is time-consuming, 
complicated, expensive, invasive for the patient and only sometimes available in hospitals. For this reason, it is nowadays 
acceptable to use cardiorespiratory polysomnography that does not track neurophysiological variables. This type of polysomnography
involves a cannula, chest belts and electrodes for an electrocardiogram (ECG) but does not involve an electroencephalogram (EEG).
Another reason why this kind of instrument is widely used is that inside the population, we have a higher percentage of 
sleep-related breathing disorders that can be studied and monitored with this instrument, like sleep apnoea/hypopnoea syndrome (SAS), where the individuals experience a collapse 
of the airway in deeper sleep states. The ability to monitor it allows for a faster and closer intervention in severe cases. 
The sleep cycle of a person is divided into two phases Non-Rapid Eye Movement (NREM) and Rapid Eye Movement (REM);
this second phase is further divided into three other stages (N1-N3). Different muscle tones, brain wave patterns, 
eye movements, and heart and breathing rate alterations characterise every phase and stage.
%\textbf{[explenation of sleep stages]}.
Focusing on one of the vital signs that characterise the different sleep stages is the respiratory rate 
which slowly becomes more stable going from the awake to the REM phase; this characterisation of the different stages gives the possibility to 
understand in which stage a person is based just on the respiratory signal.
 % \cite{Bakker2021EstimatingSeverity}. 
%Respiration is also central in 
% one of the most common sleep disorders, sleep apnea, in this case, causes them to experience reduced time in stage N3 and REM sleep. si può every da 
As said before, the state-of-art is a cumbersome device that 
requires cables attached to the users' bodies and often interferes with 
natural sleep. 

[parte sulle altre cose e le cose di privacy]


\subsection*{Instruments}
For this reason, this thesis aims to study the possibility to use an unobtrusive sensor placed over the usual mattress to retrieve 
respiratory rate without discomfort for the person lying down on it. 


The sensors in this project appear like a thin mattress similar in size to a common one that can be easily installed with adjustable straps.
In particular, the sensors are pressure-sensor textiles from \textit{SensingTex®}; in our case, was used the Pressure Mat Dev Kit,
 that has a sensor area of 192 x 94 cm filled with 1056 sensors (hereafter also referred to as "Channels") sampled at 250hz
 with a total sensor area density of 4 sensors for 10cm$^2$.
 The raw data extracted from the mattress can be viewed together to visually see the position of the person since the sensors are pressure sensors
the different pressures exerted by the presence/absence of a body on it or by its parts are given as a number inside an interval. 
So it is possible to create a heat map (or heatmap) to show the variation in colour of the intensity of the pressure, which can create the shape of
a person on the mattress.

Looking closer into signals of singles channels is possible to see a pattern that resembles a breathing rhythm,  similar to the data that can
 be retrieved from the nasal pressure exerted on the cannula of cardiorespiratory polysomnography.
This pattern was the key factor in deciding to use this sensor mattress (hereafter also referred to as "Sensor Mat" or "Mat"). 
In the laboratory where this project was carried on, was available a rocking bed (Somnomat) involved in a study of an intervention for 
sleep apnea, it was decided to address another question or if it is possible to retrieve the respiratory rate while the rocking bed is moving.
The possibility of integrating SensingTex® with Somnomat could be significant to have a closer and faster intervention on sleep apnea.

\subsection*{Data Collection}
The primary objective of this study is to collect data to understand the feasibility of extracting breath rate from the mat; the second goal is to understand if the movement of the rocking bed could influence the signal.
The participant involved was 6, half male and half female, between 20-30 years old, who were asked to lie on a standard mattress covered with the sensor mattresses in a specific position. 
After the 4 minutes, they were asked to turn around in another position following a specific pattern: supine, left side, prone, right side.
Each participant wore a cardiorespiratory wireless and portable polysomnography device (Nox A1 PSG of Nox Medical) that was
monitoring respiratory inductance plethysmography (RIP) which is a method of evaluating pulmonary ventilation by measuring the movement of the chest and abdominal wall, nasal pressure, pulse and heart rate with ECG. 
The study was divided into two phases:

The setting for the first phase involves the pressure mat over a standard bed. During the night and through the different sleep stages, the breath rate increase or decreases, so we decide to insert a similar variability in our data. We asked the participant to perform a set of five jumps before lying down, so they performed a total of 20 jumps.
The setting for the second phase, since in this part we want to collect the data while the Somnomat is moving, we fixed the period for the movement of the bed at 4 seconds (15 periods in a minute) with an acceleration of 0.25 $m/s^2$. Also, for this phase, they have been asked to turn around following the specific pattern: supine, left side, prone, right side.
This results in a recording of 32 minutes long for each participant divided into 4 minutes in each of the 4 positions with normal bed and with Somnomat.


\subsection*{Data Analysis Pipeline}
The total number of sensors is 1056, and consequently, the same number of signals from the mattress; this leads to the necessity of an algorithm to discriminate the ones from whom 
it is possible to extract valuable information about the respiratory rate of the person on the mattress.
Many of these channels are stationary on a value; others present just interference from the 
mattress. From just a few sensors, it is possible to retrieve a respiratory pattern and extract the 
respiratory rate per minute (rpm). Therefore becomes necessary to design a metric that underlines these channels.

The designed pipeline aims to replicate a semi-realtime analysis using the data obtained during the data collection. 
For this reason, it takes in input a sliding window of 60 seconds that is moving, for each position, through the 4-minute recording.
The first step excludes those signals for the entire window length that are stationary or present only interference from the mattress.
That interference appears as spikes but sometimes is present just in a percentage of the signal; the same could
 happen for stationarities that can be 
focused in just a subpart of the windows. In this case, the signal is not excluded and is assigned with confidence
 equal to the percentage of the signal that could have meaningful information.
 Another type is a noisy signal, which is excluded or weighted with a percentage of confidence with the same approach as the previous two.

 After these preliminary analyses, the number of signals decreases drastically; 
 on the remains ones, two different kinds of approaches are computed: Multiresolution analysis (MRA) of the maximal overlap discrete wavelet transform (MODWT)
and Savitz-Golay filter.

[approfondire gli aspetti]

x-----x \\
x-----x \\




The meaning of this metric must be interpreted as confidence expressed as the goodness of the signal in percentual.






x----x

x---x

the data coming from the data collection was cleaned in this methods, than was used this approach to smoot or filtering the singal.
than was use this to asset the number of breath

\subsection*{Result}

\subsection*{Acknowledgement}
The project is carried out in collaboration with \textit{Sensory-Motor System Lab} of Prof.~Robert Riener at \textit{Eidgenössische Technische Hochschule 
(ETH) Zürich} and supervised by Dr.~Alexander Breuss, Dr.~Oriella Gnarra and Dr.~Manuel Fujis.


\end{document}


% LocalWords:  pangenoma naive sottostringa BWT sottostringhe Durbin prefix MEM
% LocalWords:  array matching threshold divergence PBWT SMEM query statistics
% LocalWords:  RLBWT aplotipi aplotipo Burrows Wheeler RLPBWT maximal exact LCP
% LocalWords:  LCE